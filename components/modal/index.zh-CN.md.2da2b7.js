(self.webpackChunk_ant_design_react_native=self.webpackChunk_ant_design_react_native||[]).push([[2364],{81710:n=>{n.exports={content:["article",["p","用作显示系统的重要信息，并请求用户进行操作反馈，eg：删除某个重要内容时，弹出 Modal 进行二次确认。"],["h3","规则"],["ul",["li",["p","尽可能少用。Modal 会打断用户操作，只用在重要的时候。"]],["li",["p","标题应该简明，不能超过 1 行；描述内容应该简明、完整，一般不多于 2 行。"]],["li",["p","操作按钮最多到 3 个（竖排），一般为 1-2 个（横排）；3 个以上建议使用组件 ActionSheet 来完成。"]],["li",["p","一般将用户最可能点击的按钮，放在右侧。另外，取消按钮应当始终放在左侧。"]]],["h2","API"],["h3","Modal"],["table",["thead",["tr",["th","属性"],["th","说明"],["th","类型"],["th","默认值"],["th","版本"]]],["tbody",["tr",["td","visible"],["td","对话框是否可见"],["td","Boolean"],["td","false"],["td"]],["tr",["td","closable"],["td","是否显示关闭按钮"],["td","Boolean"],["td","false"],["td"]],["tr",["td","maskClosable"],["td","点击蒙层是否允许关闭"],["td","Boolean"],["td","true"],["td"]],["tr",["td","onClose"],["td","点击 x 或 mask 回调"],["td","(): void"],["td","无"],["td"]],["tr",["td","transparent"],["td","是否背景透明"],["td","Boolean"],["td","false"],["td"]],["tr",["td","popup"],["td","是否弹窗模式"],["td","Boolean"],["td","false"],["td"]],["tr",["td","animationDuration"],["td","动画持续时间，单位ms"],["td","Number"],["td","300"],["td",["code","5.3.0"]]],["tr",["td","animationType"],["td","可选: 'fade' / 'slide'"],["td","String"],["td","fade"],["td"]],["tr",["td","modalType"],["td","弹窗的类型，",["br"],"为",["code","'portal'"],"时则从",["code","<Provider />"],"根节点插入(默认)，",["br"],"为",["code","'modal'"],"时则同",["a",{title:null,href:"https://reactnative.dev/docs/modal"},["code","react-native/Modal"]],"(用于获取当前context)，",["br"],"为",["code","'view'"],"时则同",["code","react-native/View"],"(用于弹窗中嵌套弹窗)"],["td",["code","'portal'"],"|"," ",["code","'modal'"]," ","|"," ",["code","'view'"]],["td",["code","'portal'"]],["td",["code","5.3.0"]]],["tr",["td","title"],["td","标题"],["td","React.Element"],["td","无"],["td"]],["tr",["td","footer"],["td","底部内容"],["td","Array ",["span","{text, onPress}"]],["td","[]"],["td"]],["tr",["td","onRequestClose"],["td",["code","onRequestClose"],"回调会在用户按下 Android 设备上的后退按键或是 Apple TV 上的菜单键时触发。返回true时会在 modal 处于开启状态时阻止",["code","BackHandler"],"事件。"],["td","(): boolean"],["td","false"],["td"]],["tr",["td","style"],["td","样式，同",["code","styles.innerContainer"]],["td",["code","ViewStyle"]],["td","-"],["td"]],["tr",["td","styles"],["td","语义化结构 style"],["td",["a",{title:null,href:"#modalstyle-语义化样式"},"ModalStyle"]],["td","-"],["td"]]]],["h3","ModalStyle 语义化样式"],["pre",{lang:"typescript",highlighted:'<span class="token keyword">interface</span> <span class="token class-name">ModalStyle</span> <span class="token punctuation">{</span>\n  container<span class="token punctuation">:</span> ViewStyle      <span class="token comment" spellcheck="true">// 设置了`z-index`</span>\n  wrap<span class="token punctuation">:</span> ViewStyle           <span class="token comment" spellcheck="true">// 设置了modal的flex布局，默认： `{justifyContent: \'center\',alignItems: \'center\'}`</span>\n  innerContainer<span class="token punctuation">:</span> ViewStyle <span class="token comment" spellcheck="true">// modal主要内容区域, 默认：`{ width:286 }`</span>\n\n  <span class="token comment" spellcheck="true">// modal内容组成的各个元素样式</span>\n  footer<span class="token punctuation">:</span> ViewStyle\n  header<span class="token punctuation">:</span> TextStyle\n  body<span class="token punctuation">:</span> ViewStyle\n  closeWrap<span class="token punctuation">:</span> ViewStyle\n  close<span class="token punctuation">:</span> TextStyle\n  buttonGroupH<span class="token punctuation">:</span> ViewStyle\n  buttonGroupV<span class="token punctuation">:</span> ViewStyle\n  buttonWrapH<span class="token punctuation">:</span> ViewStyle\n  buttonWrapV<span class="token punctuation">:</span> ViewStyle\n  buttonText<span class="token punctuation">:</span> TextStyle\n\n  <span class="token comment" spellcheck="true">// popup</span>\n  popupContainer<span class="token punctuation">:</span> ViewStyle\n  popupSlideUp<span class="token punctuation">:</span> ViewStyle\n  popupSlideDown<span class="token punctuation">:</span> ViewStyle\n\n  <span class="token comment" spellcheck="true">// operation</span>\n  operationContainer<span class="token punctuation">:</span> ViewStyle\n  operationBody<span class="token punctuation">:</span> ViewStyle\n  buttonTextOperation<span class="token punctuation">:</span> TextStyle\n<span class="token punctuation">}</span>'},["code","interface ModalStyle {\n  container: ViewStyle      // 设置了`z-index`\n  wrap: ViewStyle           // 设置了modal的flex布局，默认： `{justifyContent: 'center',alignItems: 'center'}`\n  innerContainer: ViewStyle // modal主要内容区域, 默认：`{ width:286 }`\n\n  // modal内容组成的各个元素样式\n  footer: ViewStyle\n  header: TextStyle\n  body: ViewStyle\n  closeWrap: ViewStyle\n  close: TextStyle\n  buttonGroupH: ViewStyle\n  buttonGroupV: ViewStyle\n  buttonWrapH: ViewStyle\n  buttonWrapV: ViewStyle\n  buttonText: TextStyle\n\n  // popup\n  popupContainer: ViewStyle\n  popupSlideUp: ViewStyle\n  popupSlideDown: ViewStyle\n\n  // operation\n  operationContainer: ViewStyle\n  operationBody: ViewStyle\n  buttonTextOperation: TextStyle\n}"]],["h3","Modal.useModal()"],["p",["code","5.3.0"],"新增。当你需要使用 Context 时，可以通过 ",["code","Modal.useModal"]," 创建一个 ",["code","contextHolder"]," 插入子节点中。通过 hooks 创建的临时 Modal 将会得到 ",["code","contextHolder"]," 所在位置的所有上下文。创建的 ",["code","modal"]," 对象拥有与 ",["a",{title:null,href:"#静态方法"},["code","Modal.method"]]," 静态方法相同的创建通知方法。"],["pre",{lang:"jsx",highlighted:'<span class="token keyword">const</span> <span class="token punctuation">[</span>modal<span class="token punctuation">,</span> contextHolder<span class="token punctuation">]</span> <span class="token operator">=</span> Modal<span class="token punctuation">.</span><span class="token function">useModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nReact<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n  modal<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span>\n    <span class="token comment" spellcheck="true">// ...</span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>View</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>contextHolder<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>View</span><span class="token punctuation">></span></span><span class="token punctuation">;</span>'},["code","const [modal, contextHolder] = Modal.useModal();\n\nReact.useEffect(() => {\n  modal.confirm(\n    // ...\n  );\n}, []);\n\nreturn <View>{contextHolder}</View>;"]],["h2","静态方法"],["h3","Modal.alert(title, message, actions?, platform?)"],["table",["thead",["tr",["th","属性"],["th","说明"],["th","类型"],["th","默认值"]]],["tbody",["tr",["td","title"],["td","标题"],["td","String 或 React.Element"],["td","无"]],["tr",["td","message"],["td","提示信息"],["td","String 或 React.Element"],["td","无"]],["tr",["td","actions"],["td","按钮组, ",["span","{text, onPress, style}"]],["td","Array"],["td","无"]],["tr",["td","onBackHandler"],["td","返回键的回调(非必须)，返回true则关闭modal，false阻止modal关闭"],["td","(): boolean"],["td","无"]]]],["h3","Modal.prompt(title, message, callbackOrActions, type?, defaultValue?, placeholders?, platform?)"],["table",["thead",["tr",["th","属性"],["th","说明"],["th","类型"],["th","默认值"]]],["tbody",["tr",["td","title"],["td","标题"],["td","String 或 React.Element"],["td","无"]],["tr",["td","message"],["td","提示信息"],["td","String 或 React.Element"],["td","无"]],["tr",["td","callbackOrActions"],["td","按钮组 ",["span","{text, onPress}"]," 或回调函数"],["td","Array or Function"],["td","无"]],["tr",["td","type"],["td","prompt 的样式"],["td","String (",["code","default"],", ",["code","secure-text"],", ",["code","login-password"],")"],["td",["code","default"]]],["tr",["td","defaultValue"],["td","默认值(input 为 password 类型不支持)"],["td","String"],["td","-"]],["tr",["td","placeholders"],["td",["span","'', ''"]],["td","String[]"],["td","-"]],["tr",["td","onBackHandler"],["td","返回键的回调(非必须)，返回true则关闭modal，false阻止modal关闭"],["td","(): boolean"],["td","无"]]]],["h3","Modal.operation(actions?, onBackHandler?)"],["table",["thead",["tr",["th","属性"],["th","说明"],["th","类型"],["th","默认值"]]],["tbody",["tr",["td","actions"],["td","按钮组, ",["span","{text, onPress, style}"]],["td","Array"],["td","无"]],["tr",["td","onBackHandler"],["td","返回键的回调(非必须)，返回true则关闭modal，false阻止modal关闭"],["td","(): boolean"],["td","无"]]]],["h2","FAQ"],["h3","静态方法Modal如何关闭？"],["p","需要借助",["code","Portal.remove(key)"],"方法； 以下 ",["code","Modal.alert"]," 为例"],["pre",{lang:"jsx",highlighted:'<span class="token keyword">import</span> <span class="token punctuation">{</span> Modal<span class="token punctuation">,</span> Portal <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'@ant-design/react-native\'</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n\n<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n  <span class="token keyword">const</span> onOpen <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    key<span class="token punctuation">.</span>current <span class="token operator">=</span> Modal<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">const</span> onClose <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">// 关闭Modal.alert</span>\n    Portal<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>'},["code","import { Modal, Portal } from '@ant-design/react-native'\nimport { useRef } from 'react'\n\nfunction App() {\n  const key = useRef()\n\n  const onOpen = () => {\n    key.current = Modal.alert({})\n  }\n\n  const onClose = () => {\n    // 关闭Modal.alert\n    Portal.remove(key)\n  }\n}"]],["p","使用 ",["code","Modal.useModal"]," 时则借助 ",["code","modal.remove(key)"]," 方法："],["pre",{lang:"jsx",highlighted:'<span class="token keyword">import</span> <span class="token punctuation">{</span> Modal<span class="token punctuation">,</span> Portal <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'@ant-design/react-native\'</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span>\n\n<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>modal<span class="token punctuation">,</span> contextHolder<span class="token punctuation">]</span> <span class="token operator">=</span> Modal<span class="token punctuation">.</span><span class="token function">useModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n   <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n  <span class="token keyword">const</span> onOpen <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    key<span class="token punctuation">.</span>current <span class="token operator">=</span> modal<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">const</span> onClose <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">// 关闭modal.alert</span>\n    modal<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>'},["code","import { Modal, Portal } from '@ant-design/react-native'\nimport { useRef } from 'react'\n\nfunction App() {\n  const [modal, contextHolder] = Modal.useModal();\n   const key = useRef()\n\n  const onOpen = () => {\n    key.current = modal.alert({})\n  }\n\n  const onClose = () => {\n    // 关闭modal.alert\n    modal.remove(key)\n  }\n}"]],["h3","为什么 Modal 不能获取当前 context、redux、useRouter 的内容？"],["p","渲染 ",["code","<Modal>"]," 或直接调用 Modal 方法，默认是通过 ",["code","Portal.add"]," 动态插入到 ",["code","<Provider>"]," 根节点的，此时其 context 与当前代码所在 context 并不相同，因而无法获取 context 信息。"],["p","当你需要 context 信息时，",["br"],"\n1.通过 ",["code","Modal.useModal"]," 方法会返回 ",["code","modal"]," 实体以及 ",["code","contextHolder"]," 节点。将其插入到你需要获取 context 位置即可："],["pre",{lang:"tsx",highlighted:'<span class="token keyword">const</span> <span class="token punctuation">[</span>modal<span class="token punctuation">,</span> contextHolder<span class="token punctuation">]</span> <span class="token operator">=</span> Modal<span class="token punctuation">.</span><span class="token function">useModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>\n\nreturn <span class="token punctuation">(</span>\n  <span class="token operator">&lt;</span>Context1<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token string">"Ant"</span><span class="token operator">></span>\n    {<span class="token operator">/</span><span class="token operator">*</span> contextHolder 在 Context1 内，它可以获得 Context1 的 context <span class="token operator">*</span><span class="token operator">/</span>}\n    {contextHolder}\n    <span class="token operator">&lt;</span>Context2<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token string">"Design"</span><span class="token operator">></span>\n      {<span class="token operator">/</span><span class="token operator">*</span> contextHolder 在 Context2 外，因而不会获得 Context2 的 context <span class="token operator">*</span><span class="token operator">/</span>}\n    <span class="token operator">&lt;</span><span class="token operator">/</span>Context2<span class="token punctuation">.</span>Provider<span class="token operator">></span>\n  <span class="token operator">&lt;</span><span class="token operator">/</span>Context1<span class="token punctuation">.</span>Provider<span class="token operator">></span>\n<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>'},["code",'const [modal, contextHolder] = Modal.useModal();\n\nreturn (\n  <Context1.Provider value="Ant">\n    {/* contextHolder 在 Context1 内，它可以获得 Context1 的 context */}\n    {contextHolder}\n    <Context2.Provider value="Design">\n      {/* contextHolder 在 Context2 外，因而不会获得 Context2 的 context */}\n    </Context2.Provider>\n  </Context1.Provider>\n);']],["p",["strong","异同"],"：通过 hooks 创建的 ",["code","contextHolder"]," 必须插入到子元素节点中才会生效，当你不需要上下文信息时请直接调用。"],["p","2.使用",["code","<Modal />"],"时，则通过设置 ",["code","modalType='modal'"]," 内部会改为使用 ",["strong","原生Modal组件"]," 来保持 context ："],["pre",{lang:"tsx",highlighted:'<span class="token operator">&lt;</span>Modal modelType<span class="token operator">=</span><span class="token string">"modal"</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">></span>\n <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token operator">&lt;</span><span class="token operator">/</span>Modal<span class="token operator">></span>'},["code",'<Modal modelType="modal" ...>\n ...\n</Modal>']]],meta:{category:"Components",type:"Feedback",title:"Modal",subtitle:"对话框",filename:"components/modal/index.zh-CN.md"}}}}]);